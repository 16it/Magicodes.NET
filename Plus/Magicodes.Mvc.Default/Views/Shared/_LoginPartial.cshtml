@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "" }))
    {
        <div class="am-topbar-right">
            @Html.AntiForgeryToken()
            <div class="am-collapse am-topbar-collapse" id="collapse-head">
                <ul class="am-nav am-nav-pills am-topbar-nav">
                    <li class="am-dropdown" data-am-dropdown>
                        <a class="am-dropdown-toggle" data-am-dropdown-toggle href="javascript:;">
                            欢迎 @User.Identity.GetUserName() <span class="am-icon-caret-down"></span>
                        </a>
                        <ul class="am-dropdown-content">
                            <li><a href="javascript:document.getElementById('logoutForm').submit()"><i class="am-icon-tachometer"></i> 注销</a></li>
                            @if (User.IsInRole("Admin"))
                            {
                                <li><a href="/admin">进入后台</a></li>
                            }
                            <li><a href="/account/ForgotPassword">修改密码</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

        </div>
    }
}
else
{
    <div class="am-topbar-right">
        <button class="am-btn am-btn-secondary am-topbar-btn am-btn-sm" onclick="location.href = '/account/register'"><span class="am-icon-pencil"></span> 注册</button>
    </div>
    <div class="am-topbar-right">
        <button class="am-btn am-btn-primary am-topbar-btn am-btn-sm" onclick="location.href='/account/login'"><span class="am-icon-user"></span> 登录</button>
    </div>
}
