(function(n,t){function e(t,e){function ut(t){var e=t,r=n(e),i=null,u=!1;this.show=function(){i!=null&&clearTimeout(i);i=null;r.addClass("hover-show hover-shown");u=!0;for(var n=0;n<f.length;n++)f[n].find(".hover-show").not(".hover-shown").each(function(){v(this).hide()})};this.hide=function(){u=!1;r.removeClass("hover-show hover-shown hover-flip");i!=null&&clearTimeout(i);i=null;var n=r.find("> .submenu").get(0);n&&a(n,"hide")};this.hideDelay=function(n){i!=null&&clearTimeout(i);r.removeClass("hover-shown");i=setTimeout(function(){u=!1;r.removeClass("hover-show hover-flip");i=null;var t=r.find("> .submenu").get(0);t&&a(t,"hide");typeof n=="function"&&n.call(this)},nt.settings.sub_hover_delay)};this.is_visible=function(){return u}}function v(t){var i=n(t).data("subHide");return i||n(t).data("subHide",i=new ut(t)),i}function a(t,i){var r=n(t).data("ace_scroll");return r?typeof i=="string"?(r[i](),!0):r:!1}function g(i){var o=n(this),b=n(i),nt,d,ft,g,at,vt,v,it,e,y,f,rt;i.style.top="";i.style.bottom="";nt=null;h.minimized&&(nt=o.find(".menu-text").get(0))&&(nt.style.marginTop="");var ut=ace.helper.scrollTop(),st=0,ht=ut;k&&(st=t.offsetTop,ht+=st+1);f=o.offset();f.top=parseInt(f.top);d=0;i.style.maxHeight="";ft=i.scrollHeight;g=o.height();nt&&(d=g,f.top+=d);var et=parseInt(f.top+ft),u=0,ct=w.height(),tt=parseInt(f.top-ht-d),yt=ct,lt=h.horizontal,ot=!1;if(lt&&this.parentNode==l&&(u=0,f.top+=o.height(),ot=!0),!ot&&(u=et-(ct+ut))>=0&&(u=u<tt?u:tt,u==0&&(u=20),tt-u>10&&(u+=parseInt(Math.min(25,tt-u))),f.top+(g-d)>et-u&&(u-=f.top+(g-d)-(et-u)),u>0&&(i.style.top=-u+"px",nt&&(nt.style.marginTop=-u+"px"))),u<0&&(u=0),at=u>0&&u>g-20,at?o.addClass("pull_up"):o.removeClass("pull_up"),lt)if(o.parent().parent().hasClass("hover-flip"))o.addClass("hover-flip");else{var pt=b.offset(),wt=b.width(),bt=w.width();pt.left+wt>bt&&o.addClass("hover-flip")}(vt=o.hasClass("hover")&&!h.mobile_view,vt&&b.find("> li > .submenu").length>0)||(v=yt-(f.top-ut)+u,it=u-v,it>0&&it<g&&(v+=parseInt(Math.max(g,g-it))),v-=5,v<90)||(e=!1,r?b.addClass("sub-scroll").css("max-height",v+"px"):(e=a(i),e==!1&&(b.ace_scroll({observeContent:!0,detached:!0,updatePos:!1,reset:!0,mouseWheelLock:!0,styleClass:s.settings.sub_scroll_style}),e=a(i),y=e.get_track(),y&&b.after(y)),e.update({size:v})),c=v,!r&&e&&(v>14&&ft-v>4?(e.enable(),e.reset()):e.disable(),y=e.get_track(),y&&(y.style.top=-(u-d-1)+"px",f=b.position(),rt=f.left,rt+=p?2:b.outerWidth()-e.track_size(),y.style.left=parseInt(rt)+"px",ot&&(y.style.left=parseInt(rt-2)+"px",y.style.top=parseInt(f.top)+(nt?d-2:0)+"px"))),ace.vars.safari&&ace.helper.redraw(i))}var s=this,nt=this,tt=ace.helper.getAttrSettings(t,n.fn.ace_sidebar_hover.defaults),o,l,c;this.settings=n.extend({},n.fn.ace_sidebar_hover.defaults,e,tt);o=n(t);l=o.find(".nav-list").get(0);o.attr("data-sidebar-hover","true");f.push(o);var h={},y=ace.vars.old_ie,p=!1;i&&(s.settings.sub_hover_delay=parseInt(Math.max(s.settings.sub_hover_delay,2500)));var w=n(window),b=n(".navbar").eq(0),k=b.css("position")=="fixed";if(this.update_vars=function(){k=b.css("position")=="fixed"},s.dirty=!1,this.reset=function(){s.dirty!=!1&&(s.dirty=!1,o.find(".submenu").each(function(){var t=n(this),i=t.parent();t.css({top:"",bottom:"","max-height":""});t.hasClass("ace-scroll")?t.ace_scroll("disable"):t.removeClass("sub-scroll");u(this,"absolute")?t.addClass("can-scroll"):t.removeClass("can-scroll");i.removeClass("pull_up").find(".menu-text:first").css("margin-top","")}),o.find(".hover-show").removeClass("hover-show hover-shown hover-flip"))},this.updateStyle=function(n){sub_scroll_style=n;o.find(".submenu.ace-scroll").ace_scroll("update",{styleClass:n})},this.changeDir=function(n){p=n==="right"},c=-1,!r)o.on("hide.ace.submenu.sidebar_hover",".submenu",function(t){if(!(c<1)){t.stopPropagation();var i=n(this).closest(".ace-scroll.can-scroll");i.length!=0&&u(i[0],"absolute")&&i[0].scrollHeight-this.scrollHeight<c&&i.ace_scroll("disable")}});if(!r)o.on("shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover",".submenu",function(){var t,i;c<1||(t=n(this).closest(".ace-scroll.can-scroll"),t.length!=0&&u(t[0],"absolute"))&&(i=t[0].scrollHeight,c>14&&i-c>4?t.ace_scroll("enable").ace_scroll("reset"):t.ace_scroll("disable"))});var d=-1,it=i?"touchstart.sub_hover":"mouseenter.sub_hover",rt=i?"touchend.sub_hover touchcancel.sub_hover":"mouseleave.sub_hover";o.on(it,".nav-list li, .sidebar-shortcuts",function(){var r,e,c,a,b;if(h=o.ace_sidebar("vars"),!h.collapsible){var f=n(this),p=!1,w=f.hasClass("hover"),t=f.find("> .submenu").get(0);if(!(t||this.parentNode==l||w||(p=f.hasClass("sidebar-shortcuts")))){t&&n(t).removeClass("can-scroll");return}if(r=t,e=!1,r||this.parentNode!=l||(r=f.find("> a > .menu-text").get(0)),!r&&p&&(r=f.find(".sidebar-shortcuts-large").get(0)),(!r||!(e=u(r,"absolute")))&&!w){t&&n(t).removeClass("can-scroll");return}c=v(this);t&&(e?(s.dirty=!0,a=ace.helper.scrollTop(),c.is_visible()&&(i||a==d)&&!y||(n(t).addClass("can-scroll"),y||i?(b=this,setTimeout(function(){g.call(b,t)},0)):g.call(this,t)),d=a):n(t).removeClass("can-scroll"));c.show()}}).on(rt,".nav-list li, .sidebar-shortcuts",function(){(h=o.ace_sidebar("vars"),h.collapsible)||n(this).hasClass("hover-show")&&v(this).hideDelay()})}var f;if(!ace.vars.very_old_ie){var i=ace.vars.touch,r=ace.vars.old_ie||i,u="getComputedStyle"in window?function(n,t){return n.offsetHeight,window.getComputedStyle(n).position==t}:function(t,i){return t.offsetHeight,n(t).css("position")==i};n(window).on("resize.sidebar.ace_hover",function(){n(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars").ace_sidebar_hover("reset")});n(document).on("settings.ace.ace_hover",function(t,i){i=="sidebar_collapsed"?n(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"):i=="navbar_fixed"&&n(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars")});f=[];n.fn.ace_sidebar_hover=function(i,r){var u,f=this.each(function(){var f=n(this),t=f.data("ace_sidebar_hover"),o=typeof i=="object"&&i;t||f.data("ace_sidebar_hover",t=new e(this,o));typeof i=="string"&&typeof t[i]=="function"&&(u=t[i](r))});return u===t?f:u};n.fn.ace_sidebar_hover.defaults={sub_sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin"}}})(window.jQuery);
//# sourceMappingURL=ace.submenu-hover.min.js.map
