(function(n,t){function r(r,u){function y(){this.mobile_view=this.mobile_style<4&&this.is_mobile_view();this.collapsible=!this.mobile_view&&this.is_collapsible();this.minimized=!this.collapsible&&this.$sidebar.hasClass(l)||this.mobile_style==3&&this.mobile_view&&this.$sidebar.hasClass(c);this.horizontal=!(this.mobile_view||this.collapsible)&&this.$sidebar.hasClass(a)}var f=this,h,o,s,e;this.$sidebar=n(r);this.$sidebar.attr("data-sidebar","true");this.$sidebar.attr("id")||this.$sidebar.attr("id","id-sidebar-"+ ++i);h=ace.helper.getAttrSettings(r,n.fn.ace_sidebar.defaults,"sidebar-");this.settings=n.extend({},n.fn.ace_sidebar.defaults,u,h);this.minimized=!1;this.collapsible=!1;this.horizontal=!1;this.mobile_view=!1;this.vars=function(){return{minimized:this.minimized,collapsible:this.collapsible,horizontal:this.horizontal,mobile_view:this.mobile_view}};this.get=function(n){if(this.hasOwnProperty(n))return this[n]};this.set=function(n,t){this.hasOwnProperty(n)&&(this[n]=t)};this.ref=function(){return this};o=function(i){var r=n(this).find(ace.vars[".icon"]),u,f;r.length>0&&(u=r.attr("data-icon1"),f=r.attr("data-icon2"),i!==t?i?r.removeClass(u).addClass(f):r.removeClass(f).addClass(u):r.toggleClass(u).toggleClass(f))};s=function(){var t=f.$sidebar.find(".sidebar-collapse");return t.length==0&&(t=n('.sidebar-collapse[data-target="#'+(f.$sidebar.attr("id")||"")+'"]')),t.length!=0?t[0]:null};this.toggleMenu=function(n,t){if(!this.collapsible){this.minimized=!this.minimized;try{ace.settings.sidebar_collapsed(r,this.minimized,!(n===!1||t===!1))}catch(i){this.minimized?this.$sidebar.addClass("menu-min"):this.$sidebar.removeClass("menu-min")}n||(n=s());n&&o.call(n,this.minimized);ace.vars.old_ie&&ace.helper.redraw(r)}};this.collapse=function(n,t){this.collapsible||(this.minimized=!1,this.toggleMenu(n,t))};this.expand=function(n,t){this.collapsible||(this.minimized=!0,this.toggleMenu(n,t))};this.toggleResponsive=function(t){var r,i,u,f;this.mobile_view&&this.mobile_style==3&&(this.$sidebar.hasClass("menu-min")&&(this.$sidebar.removeClass("menu-min"),r=s(),r&&o.call(r)),this.minimized=!this.$sidebar.hasClass("responsive-min"),this.$sidebar.toggleClass("responsive-min responsive-max"),t||(t=this.$sidebar.find(".sidebar-expand"),t.length==0&&(t=n('.sidebar-expand[data-target="#'+(this.$sidebar.attr("id")||"")+'"]')),t=t.length!=0?t[0]:null),t&&(i=n(t).find(ace.vars[".icon"]),i.length>0&&(u=i.attr("data-icon1"),f=i.attr("data-icon2"),i.toggleClass(u).toggleClass(f))),n(document).triggerHandler("settings.ace",["sidebar_collapsed",this.minimized]))};this.is_collapsible=function(){var t;return this.$sidebar.hasClass("navbar-collapse")&&(t=n('.navbar-toggle[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null&&t.scrollHeight>0};this.is_mobile_view=function(){var t;return(t=n('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null&&t.scrollHeight>0};this.$sidebar.on(ace.click_event+".ace.submenu",".nav-list",function(t){var h=this,r=n(t.target).closest("a"),o,e,i,s;if(r&&r.length!=0){if(o=f.minimized&&!f.collapsible,!r.hasClass("dropdown-toggle"))return ace.click_event=="tap"&&o&&r.get(0).parentNode.parentNode==h&&(e=r.find(".menu-text").get(0),e!=null&&t.target!=e&&!n.contains(e,t.target))?(t.preventDefault(),!1):ace.vars.ios_safari&&r.attr("data-link")!=="false"?(document.location=r.attr("href"),t.preventDefault(),!1):void 0;if(t.preventDefault(),i=r.siblings(".submenu").get(0),!i)return!1;var c=n(i),u=0,l=i.parentNode.parentNode;return o&&l==h||c.parent().hasClass("hover")&&c.css("position")=="absolute"&&!f.collapsible?!1:(s=i.scrollHeight==0,s&&n(l).find("> .open > .submenu").each(function(){this==i||n(this.parentNode).hasClass("active")||(u-=this.scrollHeight,f.hide(this,f.settings.duration,!1))}),s?(f.show(i,f.settings.duration),u!=0&&(u+=i.scrollHeight)):(f.hide(i,f.settings.duration),u-=i.scrollHeight),u!=0&&(f.$sidebar.attr("data-sidebar-scroll")!="true"||f.minimized||f.$sidebar.ace_sidebar_scroll("prehide",u)),!1)}});e=!1;this.show=function(t,i,r){var u,o,f;if((r=r!==!1,r&&e)||(u=n(t),u.trigger(o=n.Event("show.ace.submenu")),o.isDefaultPrevented()))return!1;if(r&&(e=!0),i=i||this.settings.duration,u.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open"),t.scrollTop=0,i>0&&u.css({height:t.scrollHeight,"transition-property":"height","transition-duration":i/1e3+"s"}),f=function(t,i){t&&t.stopPropagation();u.css({"transition-property":"","transition-duration":"",overflow:"",height:""});i!==!1&&u.trigger(n.Event("shown.ace.submenu"));r&&(e=!1)},i>0&&!!n.support.transition.end)u.one(n.support.transition.end,f);else f();return ace.vars.android&&setTimeout(function(){f(null,!1);ace.helper.redraw(t)},i+20),!0};this.hide=function(t,i,r){var u,o,f;if((r=r!==!1,r&&e)||(u=n(t),u.trigger(o=n.Event("hide.ace.submenu")),o.isDefaultPrevented()))return!1;if(r&&(e=!0),i=i||this.settings.duration,u.css({height:t.scrollHeight,overflow:"hidden",display:"block"}).parent().removeClass("open"),t.offsetHeight,i>0&&u.css({height:0,"transition-property":"height","transition-duration":i/1e3+"s"}),f=function(t,i){t&&t.stopPropagation();u.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide");i!==!1&&u.trigger(n.Event("hidden.ace.submenu"));r&&(e=!1)},i>0&&!!n.support.transition.end)u.one(n.support.transition.end,f);else f();return ace.vars.android&&setTimeout(function(){f(null,!1);ace.helper.redraw(t)},i+20),!0};this.toggle=function(n,t){if(t=t||f.settings.duration,n.scrollHeight==0){if(this.show(n,t))return 1}else if(this.hide(n,t))return-1;return 0};var l="menu-min",c="responsive-min",a="h-sidebar",v=function(){this.mobile_style=1;this.$sidebar.hasClass("responsive")&&!n('.menu-toggler[data-target="#'+this.$sidebar.attr("id")+'"]').hasClass("navbar-toggle")?this.mobile_style=2:this.$sidebar.hasClass(c)?this.mobile_style=3:this.$sidebar.hasClass("navbar-collapse")&&(this.mobile_style=4)};v.call(f);n(window).on("resize.sidebar.vars",function(){y.call(f)}).triggerHandler("resize.sidebar.vars")}var i=0;n(document).on(ace.click_event+".ace.menu",".menu-toggler",function(t){var r=n(this),i=n(r.attr("data-target")),u,f;if(i.length!=0){if(t.preventDefault(),i.toggleClass("display"),r.toggleClass("display"),u=ace.click_event+".ace.autohide",f=i.attr("data-auto-hide")==="true",r.hasClass("display")){if(f)n(document).on(u,function(t){if(i.get(0)==t.target||n.contains(i.get(0),t.target)){t.stopPropagation();return}i.removeClass("display");r.removeClass("display");n(document).off(u)});i.attr("data-sidebar-scroll")=="true"&&i.ace_sidebar_scroll("reset")}else f&&n(document).off(u);return!1}}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(t){var r=n(this).attr("data-target"),i=null;(r&&(i=n(r)),(i==null||i.length==0)&&(i=n(this).closest(".sidebar")),i.length!=0)&&(t.preventDefault(),i.ace_sidebar("toggleMenu",this))}).on(ace.click_event+".ace.menu",".sidebar-expand",function(t){var u=n(this).attr("data-target"),i=null,f,r;if((u&&(i=n(u)),(i==null||i.length==0)&&(i=n(this).closest(".sidebar")),i.length!=0)&&(f=this,t.preventDefault(),i.ace_sidebar("toggleResponsive",this),r=ace.click_event+".ace.autohide",i.attr("data-auto-hide")==="true"))if(i.hasClass("responsive-max"))n(document).on(r,function(t){if(i.get(0)==t.target||n.contains(i.get(0),t.target)){t.stopPropagation();return}i.ace_sidebar("toggleResponsive",f);n(document).off(r)});else n(document).off(r)});n.fn.ace_sidebar=function(i,u){var f,e=this.each(function(){var e=n(this),t=e.data("ace_sidebar"),o=typeof i=="object"&&i;t||e.data("ace_sidebar",t=new r(this,o));typeof i=="string"&&typeof t[i]=="function"&&(f=u instanceof Array?t[i].apply(t,u):t[i](u))});return f===t?e:f};n.fn.ace_sidebar.defaults={duration:300}})(window.jQuery);
//# sourceMappingURL=ace.sidebar.min.js.map
